SSLSessionCache shmcb:logs/ssl_scache(512000)
SSLSessionCacheTimeout 300

Listen 443

<VirtualHost *:80>
    ServerName app.louisplace.com
    ServerAlias www.app.louisplace.com

    # Redirect all HTTP to HTTPS
    Redirect permanent / https://app.louisplace.com/
    
    ErrorLog logs/error.log
    CustomLog logs/access.log combined
</VirtualHost>

<VirtualHost *:443>
    ServerName app.louisplace.com
    ServerAlias www.app.louisplace.com

    # SSL Configuration
    SSLEngine on
    SSLCertificateFile /etc/letsencrypt/live/app.louisplace.com/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/app.louisplace.com/privkey.pem
    
    # Proxy configuration
    ProxyPreserveHost On
    ProxyPass / http://app:3000/
    ProxyPassReverse / http://app:3000/
    
    ErrorLog logs/error.log
    CustomLog logs/access.log combined
</VirtualHost>

